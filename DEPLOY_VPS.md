# üöÄ –î–µ–ø–ª–æ–π –±–æ—Ç–∞ –Ω–∞ VPS

–ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é Obsidian Telegram Bot –Ω–∞ VPS.

---

## üìã –ß—Ç–æ –≤–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è

1. **VPS —Å–µ—Ä–≤–µ—Ä** —Å Ubuntu 22.04 / 24.04
2. **SSH –¥–æ—Å—Ç—É–ø** –∫ —Å–µ—Ä–≤–µ—Ä—É (IP, username, password/–∫–ª—é—á)
3. **5-10 –º–∏–Ω—É—Ç** –≤—Ä–µ–º–µ–Ω–∏

---

## üõí –®–∞–≥ 1: –ê—Ä–µ–Ω–¥–∞ VPS

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã (–†–§):

#### **Timeweb** (—Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤)
- –°–∞–π—Ç: https://timeweb.com/ru/services/vps
- –°—Ç–æ–∏–º–æ—Å—Ç—å: –æ—Ç **190‚ÇΩ/–º–µ—Å**
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: 1 CPU, 512MB RAM, 10GB SSD
- –í—ã–±—Ä–∞—Ç—å: Ubuntu 22.04 –∏–ª–∏ 24.04

#### **Selectel**
- –°–∞–π—Ç: https://selectel.ru/services/cloud/servers/
- –°—Ç–æ–∏–º–æ—Å—Ç—å: –æ—Ç **250‚ÇΩ/–º–µ—Å**
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: 1 vCPU, 1GB RAM, 10GB SSD

#### **DigitalOcean** (–º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–π, –æ–ø–ª–∞—Ç–∞ –∫–∞—Ä—Ç–æ–π)
- –°–∞–π—Ç: https://www.digitalocean.com/
- –°—Ç–æ–∏–º–æ—Å—Ç—å: –æ—Ç **$4/–º–µ—Å** (~400‚ÇΩ)
- Droplet: Basic, 512MB RAM, Ubuntu 24.04

---

## üîê –®–∞–≥ 2: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ VPS

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è VPS –≤—ã –ø–æ–ª—É—á–∏—Ç–µ:
- **IP –∞–¥—Ä–µ—Å**: –Ω–∞–ø—Ä–∏–º–µ—Ä `123.45.67.89`
- **Username**: `root` (–æ–±—ã—á–Ω–æ)
- **Password**: –∏–∑ email –∏–ª–∏ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å Windows:

**–í–∞—Ä–∏–∞–Ω—Ç 1: PowerShell (–≤—Å—Ç—Ä–æ–µ–Ω–æ –≤ Windows)**
```powershell
ssh root@123.45.67.89
# –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –∫–æ–≥–¥–∞ –ø–æ–ø—Ä–æ—Å–∏—Ç
```

**–í–∞—Ä–∏–∞–Ω—Ç 2: PuTTY** (–µ—Å–ª–∏ PowerShell –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)
- –°–∫–∞—á–∞—Ç—å: https://www.putty.org/
- Host Name: –≤–∞—à IP
- Port: 22
- Connection type: SSH
- Open ‚Üí –≤–≤–µ–¥–∏—Ç–µ –ª–æ–≥–∏–Ω `root` ‚Üí –ø–∞—Ä–æ–ª—å

---

## üì¶ –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ –ü–û

–ü–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø–æ SSH –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã –ø–æ –æ—á–µ—Ä–µ–¥–∏:

```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
apt update && apt upgrade -y

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python 3, pip –∏ Git
apt install python3 python3-pip python3-venv git -y

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ Python (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 3.10+)
python3 --version
```

---

## üìÇ –®–∞–≥ 4: –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### –í–∞—Ä–∏–∞–Ω—Ç –ê: –ß–µ—Ä–µ–∑ GitHub (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
cd /root
git clone https://github.com/mkoval-pwork/obsidian-telegram-bot.git
cd obsidian-telegram-bot

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ
ls -la
```

### –í–∞—Ä–∏–∞–Ω—Ç –ë: –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ –≤—Ä—É—á–Ω—É—é (—á–µ—Ä–µ–∑ WinSCP)

1. –°–∫–∞—á–∞—Ç—å WinSCP: https://winscp.net/
2. –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ VPS (IP, root, –ø–∞—Ä–æ–ª—å)
3. –ü–µ—Ä–µ—Ç–∞—â–∏—Ç—å –ø–∞–ø–∫—É `obsidian-telegram-bot` –Ω–∞ —Å–µ—Ä–≤–µ—Ä

---

## ‚öôÔ∏è –®–∞–≥ 5: –°–æ–∑–¥–∞–Ω–∏–µ .env —Ñ–∞–π–ª–∞

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ .env —Ñ–∞–π–ª–∞
nano .env
```

–í—Å—Ç–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–µ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à–∏ —Ç–æ–∫–µ–Ω—ã):

```env
# Telegram Bot Configuration
TELEGRAM_BOT_TOKEN=your_bot_token_here

# –í–∞—à Telegram User ID
ALLOWED_USER_ID=your_telegram_user_id

# GitHub Configuration
GITHUB_TOKEN=your_github_token_here

# GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å –≤–∞—à–∏–º Obsidian Vault
GITHUB_REPO=username/repository
```

**–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–∞:**
- `Ctrl + X`
- `Y` (Yes)
- `Enter`

---

## üê≥ –®–∞–≥ 6–ê: –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

Docker —É–ø—Ä–æ—â–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç –±–æ—Ç–∞ –ø—Ä–∏ —Å–±–æ—è—Ö.

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker
curl -fsSL https://get.docker.com -o get-docker.sh
sh get-docker.sh

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
docker --version

# –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker-compose ps

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f obsidian-bot
```

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–æ—Ç–∞
docker-compose stop

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–Ω–æ–≤–∞
docker-compose start

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
docker-compose restart

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫)
docker-compose logs --tail=50 obsidian-bot

# –£–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker-compose down
```

---

## üêç –®–∞–≥ 6–ë: –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Python + Screen (–ë–ï–ó Docker)

–ï—Å–ª–∏ –Ω–µ —Ö–æ—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å Docker:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ screen (–¥–ª—è —Ñ–æ–Ω–æ–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞)
apt install screen -y

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π Python
pip3 install -r requirements.txt

# –°–æ–∑–¥–∞–Ω–∏–µ screen —Å–µ—Å—Å–∏–∏
screen -S obsidian-bot

# –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
python3 bot.py

# –í–ê–ñ–ù–û: –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç screen (–±–æ—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Ä–∞–±–æ—Ç–∞—Ç—å)
# –ù–∞–∂–º–∏—Ç–µ: Ctrl+A, –∑–∞—Ç–µ–º D
```

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ screen:**
```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–ø–∏—Å–æ–∫ —Å–µ—Å—Å–∏–π
screen -ls

# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –±–æ—Ç—É —Å–Ω–æ–≤–∞
screen -r obsidian-bot

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–æ—Ç–∞
screen -r obsidian-bot
# –ó–∞—Ç–µ–º Ctrl+C –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏

# –£–¥–∞–ª–∏—Ç—å —Å–µ—Å—Å–∏—é
screen -X -S obsidian-bot quit
```

---

## ‚úÖ –®–∞–≥ 7: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram
2. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`
4. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ: "–¢–µ—Å—Ç —Å VPS"
5. –î–æ–ª–∂–µ–Ω –ø—Ä–∏–π—Ç–∏ –æ—Ç–≤–µ—Ç: `‚úÖ Saved to 00_Inbox`

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ (Docker):**
```bash
docker-compose logs -f obsidian-bot
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ (Screen):**
```bash
screen -r obsidian-bot
```

---

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–æ—Ç–∞

### –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Docker:

```bash
cd /root/obsidian-telegram-bot

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–æ—Ç–∞
docker-compose down

# –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥ –∏–∑ GitHub
git pull

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å
docker-compose up -d --build
```

### –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Screen:

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–æ—Ç–∞
screen -X -S obsidian-bot quit

# –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥
cd /root/obsidian-telegram-bot
git pull

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)
pip3 install -r requirements.txt

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–Ω–æ–≤–∞
screen -S obsidian-bot
python3 bot.py
# Ctrl+A, –∑–∞—Ç–µ–º D
```

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### 1. –°–æ–∑–¥–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω–µ root)

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
adduser botuser
usermod -aG sudo botuser

# –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
su - botuser
```

### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ firewall

```bash
# –†–∞–∑—Ä–µ—à–∏—Ç—å —Ç–æ–ª—å–∫–æ SSH
ufw allow 22/tcp
ufw enable
```

### 3. –û—Ç–∫–ª—é—á–∏—Ç–µ –≤—Ö–æ–¥ root –ø–æ SSH

```bash
nano /etc/ssh/sshd_config
# –ù–∞–π–¥–∏—Ç–µ: PermitRootLogin yes
# –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞: PermitRootLogin no
# –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ (Ctrl+X, Y, Enter)

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ SSH
systemctl restart sshd
```

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤:

```bash
# CPU –∏ RAM
htop

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞
df -h

# –ü—Ä–æ—Ü–µ—Å—Å—ã Python
ps aux | grep python
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:

**Docker:**
```bash
docker-compose logs --tail=100 obsidian-bot
```

**Screen:**
```bash
screen -r obsidian-bot
```

---

## üÜò –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ë–æ—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ .env —Ñ–∞–π–ª–∞
cat .env

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Python –≤–µ—Ä—Å–∏–∏
python3 --version

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∑–∞–Ω–æ–≤–æ
pip3 install -r requirements.txt --force-reinstall
```

### –û—à–∏–±–∫–∏ GitHub API

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ GitHub Token (–ø—Ä–∞–≤–∞ `repo`)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è: `mkoval-pwork/main-vault`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–∞–ø–∫–∞ `00_Inbox` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (–∏–ª–∏ –±–æ—Ç –µ—ë —Å–æ–∑–¥–∞—Å—Ç)

### –ë–æ—Ç —É–ø–∞–ª –∏ –Ω–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**Docker:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—Å—è (`restart: unless-stopped`)

**Screen:** –ù—É–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Ä—É—á–Ω—É—é:
```bash
screen -S obsidian-bot
python3 bot.py
# Ctrl+A, –∑–∞—Ç–µ–º D
```

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–í–∞—à –±–æ—Ç —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç 24/7 –Ω–∞ VPS –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –≤–∞—à–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞!

**–ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –Ω–∞ –æ–¥–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ:**

```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ VPS
ssh root@–≤–∞—à-ip

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ (Docker)
docker-compose logs -f obsidian-bot

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ (Docker)
docker-compose restart

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–æ—Ç—É (Screen)
screen -r obsidian-bot
```

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `.env` —Ñ–∞–π–ª –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ VPS –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É: `ping google.com`
